;TESTS
;need to load tnums.lisp and user-function.lisp before
;(num-to-tnum 42.123)
;#<FUNCTION (LAMBDA (EPS) :IN NUM-TO-TNUM) {1001EBF73B}>

;(tnum-to-num * 0.1)
;34246/813

;(type-of *)
;RATIO

;(tnum-to-float (num-to-tnum 42.123) 0.1)
;42.123

;(tnum-print-first-n (tnum-pi) 13)
#|
n = 0, num =    3.1414224664224664
n = 1, num =    3.1414224664224664
n = 2, num =    3.1415873903465816
n = 3, num =    3.141592457567435
n = 4, num =    3.1415926454603365
n = 5, num =    3.1415926532280873
n = 6, num =    3.1415926532280873
n = 7, num =    3.141592653572881
n = 8, num =    3.141592653588973
n = 9, num =    3.1415926535897523
n = 10, num =   3.1415926535897913
n = 11, num =   3.1415926535897913
n = 12, num =   3.141592653589793
265231984363320332474665054275863923/84425962754989445056074374499532800
|#

;(tnum-print-first-n (tnum-e) 14)
#|
n = 0, num =    2.7083333333333335
n = 1, num =    2.716666666666667
n = 2, num =    2.7182539682539684
n = 3, num =    2.71827876984127
n = 4, num =    2.7182815255731922
n = 5, num =    2.7182818011463845
n = 6, num =    2.718281826198493
n = 7, num =    2.7182818282861687
n = 8, num =    2.718281828446759
n = 9, num =    2.7182818284582297
n = 10, num =   2.7182818284589945
n = 11, num =   2.7182818284589945
n = 12, num =   2.7182818284590424
n = 13, num =   2.718281828459045
7437374403113/2736057139200
|#

;(tnum-to-float (tnum-phi) -5)
;1.6180336

;(tnum-print-first-n (tnum-sin (num-to-tnum 1)) 15)
#|
n = 0, num =    0.8416666666666667
n = 1, num =    0.8416666666666667
n = 2, num =    0.841468253968254
n = 3, num =    0.8414710097001764
n = 4, num =    0.8414710097001764
n = 5, num =    0.841470984648068
n = 6, num =    0.841470984648068
n = 7, num =    0.8414709848086585
n = 8, num =    0.8414709848086585
n = 9, num =    0.8414709848078937
n = 10, num =   0.8414709848078937
n = 11, num =   0.8414709848078937
n = 12, num =   0.8414709848078965
n = 13, num =   0.8414709848078965
n = 14, num =   0.8414709848078965
102360822438075317/121645100408832000
|#

;(tnum-to-float (tsin 1) -6)
;0.84147096

;(tnum-to-float (t+ 1 (tnum-pi) 2 (tnum-e) 3) -6)
;11.859875

;(tnum-print-first-n (t* (tnum-phi) 4.2) 10)
#|
n = 0, num =    6.785934728649347
n = 1, num =    6.79545451022921
n = 2, num =    6.7957200320003945
n = 3, num =    6.795740957017344
n = 4, num =    6.795742614614493
n = 5, num =    6.795742742492268
n = 6, num =    6.79574275201125
n = 7, num =    6.79574275233296
n = 8, num =    6.7957427527226315
n = 9, num =    6.795742752747888
1041505257396229231622800234131631271900059657318415564836556618011621428410545578518848594242410971553641921332778045531078057165377153128906094789731870901936602270301751052641619022235212496059538358846462727203880565664056261696641266261024395332980376508309883839768360664462214198796088637421744735597027627164763472264000129289113168589902008250210552451758209159023528810836733197628933996631124998985532088134346210034524462807684804087734942099089276256298639209518160973573519745595063339852796617702694793257778864384356808212628453677576605251778941769889592818293191466830420114860376731093526367901738859629171780393908660006586168237150244526965854292118532781195593857584321289063548879593016854588462357/153258487745889451114457908800189169308296167874623905926650515681435426640615604019171404950063447055619708501208425839105482216713999834761837713288333543663121541943354066537469869175728970057455909213078027647677116572298429415464370668250909525710754802677335681246291617924638252553691129593956294478646091262478184754085994108558549497284438338402647547218155081008646143661753336804866917645125538461024572779200428052643864776714115189743385311523399808207665634630321248526032521003745005488730995446632652563770087187039255972988204981856213227490909045658228835463329390316858310014894612473241832797785306776745973506644137184390945130683072578782208296671708609365122646092906735938900522887706756591796875
|#

;(calc-sin 2)
;0.9092974268256817d0

;(global-sin 3)
;0.14112002

;(setq *calc-eps* -20)
;-20

;(setq *calc-conversion* (lambda (num)
;    (coerce num 'long-float)))
;#<FUNCTION (LAMBDA (NUM)) {52A4F4EB}>

;(global-sin 4)
;-0.7568024953079282d0